<nav class="navbar navbar-expand-lg bg-body-tertiary navbar-dark p-0 fixed-top" id="userheader">
    <div class="container-fluid bg-dark p-2">
      <i class="fa-solid fa-arrow-left mx-2" style="color: #ffffff; cursor: pointer;" onclick="history.back()"></i>
      <a class="navbar-brand mx-2 text-white" href="/"><b>DC Wears</b></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0" id="navbar">
          <li class="nav-item mx-2" id="home">
            <a href="/" class="nav-link text-white text-decoration-none">Home</a>
          </li>
          <li class="nav-item mx-2" id="orders">
            <a href="/orders" class="nav-link text-white text-decoration-none">Orders</a>
          </li>
          <li class="nav-item mx-2" id="cart">
            <a href="/cart" class="nav-link text-white text-decoration-none">Cart</a>
          </li>
          <li class="nav-item mx-2" id="profile">
            <a href="/userprofile" class="nav-link text-white text-decoration-none">Profile</a>
          </li>
        </ul>
        {{#if session}}
            <div class="dropdown me-2 mx-2">
              <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                {{username}}
              </button>
              <ul class="dropdown-menu">
                {{!-- <li class="p-2 border-bottom border-dark"><a href="/userprofile" class="text-decoration-none text-dark">Profile</a></li> --}}
                <li class="p-2"><a href="/logout" class="text-decoration-none text-dark">Logout</a></li>
              </ul>
            </div>
        {{else}}
            <div class="dropdown me-2">
              <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                User
              </button>
              <ul class="dropdown-menu">
                <li class="mx-2"><a href="/login">Login</a></li>
              </ul>
            </div>
        {{/if}}
      </div>
    </div>
</nav>

<script>
  // Get the active item from local storage
  var activeItem = localStorage.getItem('activeItem');

  // Add the active class to the stored active item, if it exists
  if (activeItem) {
    var navItem = document.getElementById(activeItem);
    if (navItem) {
      navItem.classList.add('active');
    }
  }

  // Attach click event listeners to each list item
  var navItems = document.querySelectorAll('#navbar li');
  navItems.forEach(function(item) {
    item.addEventListener('click', function() {
      // Remove the active class from all list items
      navItems.forEach(function(navItem) {
        navItem.classList.remove('active');
      });

      // Add the active class to the clicked list item
      this.classList.add('active');

      // Store the active item in local storage
      localStorage.setItem('activeItem', this.id);
    });
  });
</script>


